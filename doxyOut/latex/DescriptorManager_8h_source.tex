\doxysection{Descriptor\+Manager.\+h}
\hypertarget{DescriptorManager_8h_source}{}\label{DescriptorManager_8h_source}\index{DescriptorManager.h@{DescriptorManager.h}}
\mbox{\hyperlink{DescriptorManager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#ifndef\ DESCRIPTOR\_MANAGER\_H}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#define\ DESCRIPTOR\_MANAGER\_H}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config_8h}{Utils/config.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{DescriptorBuilder_8h}{Builders/DescriptorBuilder.h}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{comment}{//Forward\ declarations}}
\DoxyCodeLine{00009\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBufferManager}{BufferManager}};\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBuffer}{Buffer}};}
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classCamera}{Camera}};\ }
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structUBO}{UBO}}\ \{}
\DoxyCodeLine{00014\ \ \ \ \ glm::mat4\ \mbox{\hyperlink{structUBO_ae959d5529efcb5b79ddcad382a33fbf6}{view}};}
\DoxyCodeLine{00015\ \ \ \ \ glm::mat4\ \mbox{\hyperlink{structUBO_ab2fef05455c2916f9fae627ebd166b74}{proj}};}
\DoxyCodeLine{00016\ \ \ \ \ glm::vec3\ \mbox{\hyperlink{structUBO_a1a5dcc0ec0d415c8261b121a1896e459}{lightPos}};\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{alignas}(16)\ glm::vec3\ \mbox{\hyperlink{structUBO_aef81c4c97bef0b10480e0e772cc2c300}{lightColor}};\ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{alignas}(16)\ glm::vec3\ \mbox{\hyperlink{structUBO_a6f55c0819a8796104a6c6193bad52cf2}{cameraPos}};\ }
\DoxyCodeLine{00019\ \};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classDescriptorManager_acb0c39474078ce6ed03e25cb77dc72da}{DescriptorManager}}\ \{}
\DoxyCodeLine{00022\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{comment}{//RESEARCH\ PUSH\ CONSTANTS\ -\/\ THEY\ ARE\ MORE\ EFFICIENT\ FOR\ SMALL\ AMOUNTS\ OF\ DATA\ BEING\ PASSED\ TO\ SHADERS}}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{classDescriptorManager_acb0c39474078ce6ed03e25cb77dc72da}{DescriptorManager}}(}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ VkDevice\ logicalDevice,\ VkPhysicalDevice\ physicalDevice,\ }
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ std::shared\_ptr<BufferManager>\ bufferManager,\ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ std::shared\_ptr<Camera>\ camera}
\DoxyCodeLine{00028\ \ \ \ \ )\ :\ descManager\_logicalDevice(logicalDevice),\ }
\DoxyCodeLine{00029\ \ \ \ \ descManager\_physicalDevice(physicalDevice),\ }
\DoxyCodeLine{00030\ \ \ \ \ descManager\_bufferManager(bufferManager),\ }
\DoxyCodeLine{00031\ \ \ \ \ descManager\_camera(camera)\ \{\};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDescriptorManager_a22b021159396e576e05d1a83932d755c}{createUniformBuffers}}();}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDescriptorManager_a904cbaff39befae956248144b2bd30cb}{updateUniformBuffer}}(uint32\_t\ currentImage,\ VkExtent2D\ swapchainExtent);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDescriptorManager_a2f55bda2668a808ae6976139ee639724}{createDescriptorPool}}(\textcolor{keywordtype}{int}\ meshCount,\ \textcolor{keywordtype}{int}\ materialCount);}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDescriptorManager_a0108636388bb306a9ce7f8d27973abee}{createPerFrameDescriptors}}();}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDescriptorManager_a8ab31833b16b26fc295aeb8a8ce9d54a}{cleanup}}();}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{comment}{//Getter\ functions}}
\DoxyCodeLine{00044\ \ \ \ \ std::vector<VkDescriptorSet>\ \mbox{\hyperlink{classDescriptorManager_aa8b92ce298b695cc0a92ae242493ba08}{getDescriptorSets}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ descriptorSets;\ \};}
\DoxyCodeLine{00045\ \ \ \ \ VkDescriptorPool\ \mbox{\hyperlink{classDescriptorManager_ab9420d950f57f87cdef7914e4faad511}{getDescriptorPool}}()\ \{\ \textcolor{keywordflow}{return}\ descriptorPool;\ \};}
\DoxyCodeLine{00046\ \ \ \ \ VkDescriptorSetLayout\ \mbox{\hyperlink{classDescriptorManager_ada23a58aebd3752c90ba623d5c44bbcf}{getDescriptorSetLayout}}()\ \{\ \textcolor{keywordflow}{return}\ descriptorSetLayout;\ \};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{comment}{//Setter\ functions}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{private}:\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//Injected\ Buffer\ Manager\ Utility\ }}
\DoxyCodeLine{00052\ \ \ \ \ std::shared\_ptr<BufferManager>\ descManager\_bufferManager;\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//Injected\ Core\ Components}}
\DoxyCodeLine{00054\ \ \ \ \ VkDevice\ descManager\_logicalDevice;}
\DoxyCodeLine{00055\ \ \ \ \ VkPhysicalDevice\ descManager\_physicalDevice;}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{comment}{//Camera}}
\DoxyCodeLine{00058\ \ \ \ \ std::shared\_ptr<Camera>\ descManager\_camera;\ }
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//Descriptor\ Info}}
\DoxyCodeLine{00061\ \ \ \ \ VkDescriptorSetLayout\ descriptorSetLayout;}
\DoxyCodeLine{00062\ \ \ \ \ VkDescriptorPool\ descriptorPool;}
\DoxyCodeLine{00063\ \ \ \ \ std::vector<VkDescriptorSet>\ descriptorSets;\ }
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ std::vector<UniformBufferInfo>\ ubufInfo;}
\DoxyCodeLine{00066\ \};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
