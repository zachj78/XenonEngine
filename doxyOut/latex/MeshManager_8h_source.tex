\doxysection{Mesh\+Manager.\+h}
\hypertarget{MeshManager_8h_source}{}\label{MeshManager_8h_source}\index{MeshManager.h@{MeshManager.h}}
\mbox{\hyperlink{MeshManager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#ifndef\ MESH\_MANAGER\_H}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#define\ MESH\_MANAGER\_H}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config_8h}{Utils/config.h}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{VulkanDevices_8h}{Core/VulkanDevices.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{BufferManager_8h}{Managers/BufferManager.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{Image_8h}{Managers/Image.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{Vertex_8h}{Managers/Vertex.h}}"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{Material_8h}{Managers/Material.h}}"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{DescriptorBuilder_8h}{Builders/DescriptorBuilder.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBuffer}{Buffer}};\ }
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structMeshData}{MeshData}}\ \{}
\DoxyCodeLine{00019\ \ \ \ \ glm::mat4\ \mbox{\hyperlink{structMeshData_acbcfe23e819fd5d3fdc1cd5aa8529d63}{model}};\ }
\DoxyCodeLine{00020\ \};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classMesh}{Mesh}}\ \{}
\DoxyCodeLine{00023\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ std::vector<Vertex>\&\ \mbox{\hyperlink{classMesh_a26691d8d42f300c98e31ffdeb45bcf16}{getVertices}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ std::vector<uint32\_t>\&\ \mbox{\hyperlink{classMesh_a14fcdf7745cdfffd14b42f0db18a7b33}{getIndices}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{virtual}\ glm::mat4\ \mbox{\hyperlink{classMesh_a7b058b372a16e978eddac158f4dbb9f4}{getModelMatrix}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classMesh_a7109a7668cc0c87775eb98c014205bf0}{getMeshIndex}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMesh_ac76afd41d76640438cfb1dde810c84ac}{setMeshIndex}}(\textcolor{keywordtype}{int}\ index)\ =\ 0;}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keyword}{virtual}\ std::string\ \mbox{\hyperlink{classMesh_a4c885e81e764eb77e1571b055df95f7c}{getName}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keyword}{virtual}\ std::shared\_ptr<Material>\ \mbox{\hyperlink{classMesh_afab2499b474f589c0e3fd3ac4ef4eb68}{getMaterial}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classMesh_a651347a4a847da7d491641c66c7904c5}{\string~Mesh}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00034\ \};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classPlane_acb3d70d79c18dff94594dd58f5712ddd}{Plane}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classMesh}{Mesh}}\ \{}
\DoxyCodeLine{00037\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{classPlane_acb3d70d79c18dff94594dd58f5712ddd}{Plane}}(std::shared\_ptr<Material>\ material)\ :\ material(material),\ model(glm::mat4(1.0f)),\ meshIndex(-\/1)\ \{\}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<Vertex>\&\ \mbox{\hyperlink{classPlane_ac52c353c953b8268c3b1cf1302bf7b0d}{getVertices}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vertices;}
\DoxyCodeLine{00042\ \ \ \ \ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<uint32\_t>\&\ \mbox{\hyperlink{classPlane_ad35ebf0db2c9dc17845e9b7e131b9e0e}{getIndices}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ indices;}
\DoxyCodeLine{00046\ \ \ \ \ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ glm::mat4\ \mbox{\hyperlink{classPlane_a945e51c664a1a9809d604b977f543888}{getModelMatrix}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ model;}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classPlane_ab85c38b46064d686c898a2c27545a823}{getMeshIndex}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ meshIndex;}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classPlane_a14e40319f2a9987d65d219ee45589e2b}{setMeshIndex}}(\textcolor{keywordtype}{int}\ index)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ meshIndex\ =\ index;}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}New\ mesh\ index:\ "{}}\ <<\ meshIndex\ <<\ std::endl;}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ std::string\ \mbox{\hyperlink{classPlane_ab2012c4cd07b25d1f387a50639ef4ffd}{getName}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Plane"{}};}
\DoxyCodeLine{00063\ \ \ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ std::shared\_ptr<Material>\ \mbox{\hyperlink{classPlane_a4f418163c64c23ae16d34e908d0d205a}{getMaterial}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ material;}
\DoxyCodeLine{00067\ \ \ \ \ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00070\ \ \ \ \ glm::mat4\ model;}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{int}\ meshIndex;}
\DoxyCodeLine{00072\ \ \ \ \ std::shared\_ptr<Material>\ material;}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<Vertex>\ vertices\ =\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \{\{-\/0.5f,\ \ 0.0f,\ \ 0.5f\},\ \{1.0f,\ 1.0f,\ 1.0f\},\ \{1.0f,\ 1.0f\}\},\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \{\{\ 0.5f,\ \ 0.0f,\ \ 0.5f\},\ \{0.0f,\ 0.0f,\ 1.0f\},\ \{0.0f,\ 1.0f\}\},\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \{\{\ 0.5f,\ \ 0.0f,\ -\/0.5f\},\ \{0.0f,\ 1.0f,\ 0.0f\},\ \{0.0f,\ 0.0f\}\},\ }
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \{\{-\/0.5f,\ \ 0.0f,\ -\/0.5f\},\ \{1.0f,\ 0.0f,\ 0.0f\},\ \{1.0f,\ 0.0f\}\}\ }
\DoxyCodeLine{00079\ \ \ \ \ \};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<uint32\_t>\ indices\ =\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ 0,\ 1,\ 2,\ 2,\ 3,\ 0}
\DoxyCodeLine{00083\ \ \ \ \ \};}
\DoxyCodeLine{00084\ \};}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classDynamicMesh_a2dff6ead3f963f77596f11f54deb5f7a}{DynamicMesh}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classMesh}{Mesh}}\ \{}
\DoxyCodeLine{00087\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{classDynamicMesh_a2dff6ead3f963f77596f11f54deb5f7a}{DynamicMesh}}(std::string\ name,\ std::vector<Vertex>\ vertices,\ std::vector<uint32\_t>\ indices,\ std::shared\_ptr<Material>\ material)}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ :\ name(std::move(name)),\ vertices(std::move(vertices)),\ indices(std::move(indices)),\ material(material),\ meshIndex(-\/1)\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<Vertex>\&\ \mbox{\hyperlink{classDynamicMesh_ad89a8cd5579034a95edcfae61fa53e04}{getVertices}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vertices;}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<uint32\_t>\&\ \mbox{\hyperlink{classDynamicMesh_ac2eaf9394c07d1120bccf189a70217d6}{getIndices}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ indices;}
\DoxyCodeLine{00098\ \ \ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ glm::mat4\ \mbox{\hyperlink{classDynamicMesh_a089ea421aeb2ee6bf1d162faf589c7e0}{getModelMatrix}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ model;}
\DoxyCodeLine{00102\ \ \ \ \ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDynamicMesh_aa45d7cc6b53153383f618116dd38a37c}{getMeshIndex}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ meshIndex;}
\DoxyCodeLine{00106\ \ \ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDynamicMesh_a7569362c38e462abea033d765720097e}{setMeshIndex}}(\textcolor{keywordtype}{int}\ index)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ meshIndex\ =\ index;}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ std::string\ \mbox{\hyperlink{classDynamicMesh_a2749e850ac63fcdf8962e4e72d65f086}{getName}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ name;}
\DoxyCodeLine{00114\ \ \ \ \ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ std::shared\_ptr<Material>\ \mbox{\hyperlink{classDynamicMesh_a62ca383fd88667b7f1989b0554c626e5}{getMaterial}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ material;}
\DoxyCodeLine{00118\ \ \ \ \ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00121\ \ \ \ \ std::string\ name;}
\DoxyCodeLine{00122\ \ \ \ \ std::vector<Vertex>\ vertices;}
\DoxyCodeLine{00123\ \ \ \ \ std::vector<uint32\_t>\ indices;}
\DoxyCodeLine{00124\ \ \ \ \ glm::mat4\ model\ =\ glm::mat4(1.0f);}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{int}\ meshIndex;}
\DoxyCodeLine{00126\ \ \ \ \ std::shared\_ptr<Material>\ material;}
\DoxyCodeLine{00127\ \};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classMeshManager_a08b92b2285cba0a5afd1dd25bdcf4c13}{MeshManager}}\ \{}
\DoxyCodeLine{00130\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{classMeshManager_a08b92b2285cba0a5afd1dd25bdcf4c13}{MeshManager}}(VkDevice\ logicalDevice,\ std::shared\_ptr<BufferManager>\ bufferManager);}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{comment}{//Model\ loading\ functions}}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMeshManager_ace4881bbe08c370642ee98aece04c77b}{loadModel\_obj}}(std::string\ filepath,\ std::string\ name,\ std::string\ materialName);}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMeshManager_a55df097019c033f7b7414d1ee55565e0}{loadModel\_gLTF}}(std::string\ filepath,\ std::string\ name,\ std::string\ materialName);}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//Adds\ a\ mesh\ to\ be\ drawn}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMeshManager_ae97f896cf9ca552fc6cf4956494f9ef0}{addMesh}}(std::shared\_ptr<Mesh>\ mesh);}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{comment}{//Creates\ a\ material\ -\/>\ needed\ to\ bind\ to\ mesh}}
\DoxyCodeLine{00141\ \ \ \ \ std::shared\_ptr<Material>\ \mbox{\hyperlink{classMeshManager_a73722b85f4e9c8613d71aa67ccdc1227}{createMaterial}}(std::string\ name,}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ std::shared\_ptr<Image>\ textureImage);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{//Creates\ a\ mesh\ -\/>\ material\ is\ needed}}
\DoxyCodeLine{00145\ \ \ \ \ std::shared\_ptr<Mesh>\ \mbox{\hyperlink{classMeshManager_a3cdcc7ef19b7c5ea1991722e170808ba}{createMesh}}(std::string\ meshName,\ std::string\ matName);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//Model\ matrix\ transform\ method}}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMeshManager_af18d93678ba3ce79d1a71a883a3e143c}{transform}}(std::string\ meshName,\ std::string\ transformType,\ uint32\_t\ currentImage);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{comment}{//SSBO\ Descriptor\ Set\ up}}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMeshManager_a8aa80cb167e830c661d2e62960ff5bc0}{createStorageBuffers}}();}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMeshManager_ae365135e5ae5ce61647775a817d2c5e5}{createSSBODescriptors}}(VkDescriptorPool\ descriptorPool);}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{//Material\ Descriptor\ Set\ up}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMeshManager_a1c0c055cc0140d6e4e7f2551a7a9d71f}{createMaterialDescriptors}}(VkDescriptorPool\ descriptorPool,\ \mbox{\hyperlink{structCapabilities}{Capabilities}}\ deviceCaps);}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{//For\ loading\ meshes\ during\ rendering}}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMeshManager_ad7f04e65dc30c43f2f9887b3b20bae77}{queueMeshLoad}}(std::shared\_ptr<Mesh>\ mesh)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ std::lock\_guard\ <std::mutex>\ lock(meshQueueMutex);}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ meshLoadQueue.push(mesh);}
\DoxyCodeLine{00161\ \ \ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{comment}{//\ ==\ GETTERS\ ==\ }}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{comment}{//Storage\ buffer\ set}}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keyword}{const}\ std::unordered\_map<std::string,\ std::shared\_ptr<Mesh>>\&\ \mbox{\hyperlink{classMeshManager_acdd1d802fab1146ccc3affcbeb827d73}{getAllMeshes}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keyword}{const}\ std::unordered\_map<std::string,\ std::shared\_ptr<Material>>\&\ \mbox{\hyperlink{classMeshManager_ac155ad8f12d4a3aca7450d8ed50ee9b0}{getAllMaterials}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ materials;\ \};}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keyword}{const}\ std::shared\_ptr<Material>\ \mbox{\hyperlink{classMeshManager_a5fc37370963dc4cb8a42b77c941c3221}{getMaterial}}(std::string\ materialName)\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it=\ materials.find(materialName);}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ materials.end())\ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>second;}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Failed\ to\ find\ material\ by\ name\ :\ ["{}}\ <<\ materialName\ <<\ \textcolor{stringliteral}{"{}]"{}}\ <<\ std::endl;}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00175\ \ \ \ \ \}}
\DoxyCodeLine{00176\ \ \ \ \ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{comment}{//Sets\ }}
\DoxyCodeLine{00178\ \ \ \ \ std::vector<VkDescriptorSet>\ \mbox{\hyperlink{classMeshManager_a34cc5f4eb51535297e2ff5120e61df75}{getSSBODescriptorSets}}()\ \{\ \textcolor{keywordflow}{return}\ meshDescriptorSets;\ \};}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{comment}{//Set\ layouts}}
\DoxyCodeLine{00181\ \ \ \ \ VkDescriptorSetLayout\ \mbox{\hyperlink{classMeshManager_ab14f77de4bb7b06ec619670e5af3f7ab}{getMeshDescriptorSetLayout}}()\ \{\ \textcolor{keywordflow}{return}\ meshDescriptorSetLayout;\ \};}
\DoxyCodeLine{00182\ \ \ \ \ VkDescriptorSetLayout\ \mbox{\hyperlink{classMeshManager_adea721ecb2a098f5154dc0d79de9b025}{getMaterialDescriptorSetLayout}}()\ \{\ \textcolor{keywordflow}{return}\ materialDescriptorSetLayout;\ \};}
\DoxyCodeLine{00183\ \ \ \ \ std::vector<VkDescriptorSet>\ \mbox{\hyperlink{classMeshManager_a21176fe1b4b8b2a8f47bf88cb386d2b3}{getMaterialDescriptorSets}}()\ \{\ \textcolor{keywordflow}{return}\ materialDescriptorSets;\ \};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ std::shared\_ptr<Mesh>\ \mbox{\hyperlink{classMeshManager_a01e26aaf864bbb6fe47c2f426874c211}{getMesh}}(\textcolor{keyword}{const}\ std::string\&\ name)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ meshes.find(name);}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ meshes.end())\ \textcolor{keywordflow}{return}\ it-\/>second;}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00189\ \ \ \ \ \};}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ std::shared\_ptr<Material>\ \mbox{\hyperlink{classMeshManager_a0128d5e233f2297f7a5fd39684e1d14f}{getMaterial}}(\textcolor{keyword}{const}\ std::string\&\ name)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ materials.find(name);}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ materials.end())\ \{}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>second;}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00197\ \ \ \ \ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \textcolor{keyword}{private}:\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordtype}{bool}\ deviceSupportsBindless\ =\ \textcolor{keyword}{false};\ }
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordtype}{int}\ meshCount;}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{int}\ textureTypes\ =\ 1;}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{comment}{//Injected\ Vulkan\ logical\ device}}
\DoxyCodeLine{00205\ \ \ \ \ VkDevice\ meshManager\_logicalDevice;}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{comment}{//Stores\ all\ meshes\ by\ name}}
\DoxyCodeLine{00208\ \ \ \ \ std::unordered\_map<std::string,\ std::shared\_ptr<Mesh>>\ meshes;}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{comment}{//Stores\ all\ materials\ by\ name}}
\DoxyCodeLine{00210\ \ \ \ \ std::unordered\_map<std::string,\ std::shared\_ptr<Material>>\ materials;}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{comment}{//Stores\ <name,\ meshIndex>}}
\DoxyCodeLine{00212\ \ \ \ \ std::unordered\_map<std::string,\ int>\ meshIndices;}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{comment}{//SSBO\ Management}}
\DoxyCodeLine{00215\ \ \ \ \ std::shared\_ptr<BufferManager>\ meshManager\_bufferManager;}
\DoxyCodeLine{00216\ \ \ \ \ std::vector<void*>\ mappedStorageBufferPtrs;}
\DoxyCodeLine{00217\ \ \ \ \ std::vector<glm::mat4>\ modelMatrices;}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{comment}{//Hot-\/loading\ queue}}
\DoxyCodeLine{00220\ \ \ \ \ std::mutex\ meshQueueMutex;}
\DoxyCodeLine{00221\ \ \ \ \ std::queue<std::shared\_ptr<Mesh>>\ meshLoadQueue;}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{comment}{//Descriptor\ Management}}
\DoxyCodeLine{00224\ \ \ \ \ VkDescriptorSetLayout\ materialDescriptorSetLayout;}
\DoxyCodeLine{00225\ \ \ \ \ VkDescriptorSetLayout\ meshDescriptorSetLayout;}
\DoxyCodeLine{00226\ \ \ \ \ std::vector<VkDescriptorSet>\ meshDescriptorSets;}
\DoxyCodeLine{00227\ \ \ \ \ std::vector<VkDescriptorSet>\ materialDescriptorSets;}
\DoxyCodeLine{00228\ \};}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
